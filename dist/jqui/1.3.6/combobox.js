define("jqui/1.3.6/combobox",[],function(e){e("jqui/1.3.6/parser"),e("jqui/1.3.6/combo"),function(e){function o(o,t){for(var n=e.data(o,"combobox"),i=n.options,a=n.data,l=0;l<a.length;l++)if(a[l][i.valueField]==t)return l;return-1}function t(o,t){var n=e.data(o,"combobox").options,i=e(o).combo("panel"),a=n.finder.getEl(o,t);if(a.length)if(a.position().top<=0){var l=i.scrollTop()+a.position().top;i.scrollTop(l)}else if(a.position().top+a.outerHeight()>i.height()){var l=i.scrollTop()+a.position().top+a.outerHeight()-i.height();i.scrollTop(l)}}function n(o,n){var a=e.data(o,"combobox").options,l=e(o).combobox("panel"),r=l.children("div.combobox-item-hover");r.length||(r=l.children("div.combobox-item-selected")),r.removeClass("combobox-item-hover");var s="div.combobox-item:visible:not(.combobox-item-disabled):first",c="div.combobox-item:visible:not(.combobox-item-disabled):last";if(r.length?"next"==n?(r=r.nextAll(s),r.length||(r=l.children(s))):(r=r.prevAll(s),r.length||(r=l.children(c))):r=l.children("next"==n?s:c),r.length){r.addClass("combobox-item-hover");var d=a.finder.getRow(o,r);d&&(t(o,d[a.valueField]),a.selectOnNavigation&&i(o,d[a.valueField]))}}function i(o,t){var n=e.data(o,"combobox").options,i=e(o).combo("getValues");-1==e.inArray(t+"",i)&&(n.multiple?i.push(t):i=[t],l(o,i),n.onSelect.call(o,n.finder.getRow(o,t)))}function a(o,t){var n=e.data(o,"combobox").options,i=e(o).combo("getValues"),a=e.inArray(t+"",i);a>=0&&(i.splice(a,1),l(o,i),n.onUnselect.call(o,n.finder.getRow(o,t)))}function l(o,t,n){var i=e.data(o,"combobox").options,a=e(o).combo("panel");a.find("div.combobox-item-selected").removeClass("combobox-item-selected");for(var l=[],r=[],s=0;s<t.length;s++){var c=t[s],d=c;i.finder.getEl(o,c).addClass("combobox-item-selected");var u=i.finder.getRow(o,c);u&&(d=u[i.textField]),l.push(c),r.push(d)}e(o).combo("setValues",l),n||e(o).combo("setText",r.join(i.separator))}function r(o,t,n){var i=e.data(o,"combobox"),a=i.options;i.data=a.loadFilter.call(o,t),i.groups=[],t=i.data;for(var r=e(o).combobox("getValues"),s=[],c=void 0,d=0;d<t.length;d++){var u=t[d],p=u[a.valueField]+"",h=u[a.textField],f=u[a.groupField];f?c!=f&&(c=f,i.groups.push(f),s.push('<div id="'+(i.groupIdPrefix+"_"+(i.groups.length-1))+'" class="combobox-group">'),s.push(a.groupFormatter?a.groupFormatter.call(o,f):f),s.push("</div>")):c=void 0;var m="combobox-item"+(u.disabled?" combobox-item-disabled":"")+(f?" combobox-gitem":"");s.push('<div id="'+(i.itemIdPrefix+"_"+d)+'" class="'+m+'">'),s.push(a.formatter?a.formatter.call(o,u):h),s.push("</div>"),u.selected&&-1==e.inArray(p,r)&&r.push(p)}e(o).combo("panel").html(s.join("")),a.multiple?l(o,r,n):l(o,r.length?[r[r.length-1]]:[],n),a.onLoadSuccess.call(o,t)}function s(o,t,n,i){var a=e.data(o,"combobox").options;t&&(a.url=t),n=n||{},0!=a.onBeforeLoad.call(o,n)&&a.loader.call(o,n,function(e){r(o,e,i)},function(){a.onLoadError.apply(this,arguments)})}function c(o,t){var n=e.data(o,"combobox"),i=n.options;if(i.multiple&&!t?l(o,[],!0):l(o,[t],!0),"remote"==i.mode)s(o,null,{q:t},!0);else{var a=e(o).combo("panel");a.find("div.combobox-item-selected,div.combobox-item-hover").removeClass("combobox-item-selected combobox-item-hover"),a.find("div.combobox-item,div.combobox-group").hide();var r=n.data,c=[],d=i.multiple?t.split(i.separator):[t];e.map(d,function(t){t=e.trim(t);for(var a=void 0,l=0;l<r.length;l++){var s=r[l];if(i.filter.call(o,t,s)){var d=s[i.valueField],u=s[i.textField],p=s[i.groupField],h=i.finder.getEl(o,d).show();u.toLowerCase()==t.toLowerCase()&&(c.push(d),h.addClass("combobox-item-selected")),i.groupField&&a!=p&&(e("#"+n.groupIdPrefix+"_"+e.inArray(p,n.groups)).show(),a=p)}}}),l(o,c,!0)}}function d(t){var n=e(t),i=n.combobox("options"),a=n.combobox("panel"),l=a.children("div.combobox-item-hover");if(l.length){var r=i.finder.getRow(t,l),s=r[i.valueField];i.multiple&&l.hasClass("combobox-item-selected")?n.combobox("unselect",s):n.combobox("select",s)}var c=[];e.map(n.combobox("getValues"),function(e){o(t,e)>=0&&c.push(e)}),n.combobox("setValues",c),i.multiple||n.combobox("hidePanel")}function u(o){var n=e.data(o,"combobox"),l=n.options;p++,n.itemIdPrefix="_jqui_combobox_i"+p,n.groupIdPrefix="_jqui_combobox_g"+p,e(o).addClass("combobox-f"),e(o).combo(e.extend({},l,{onShowPanel:function(){e(o).combo("panel").find("div.combobox-item,div.combobox-group").show(),t(o,e(o).combobox("getValue")),l.onShowPanel.call(o)}})),e(o).combo("panel").unbind().bind("mouseover",function(o){e(this).children("div.combobox-item-hover").removeClass("combobox-item-hover");var t=e(o.target).closest("div.combobox-item");t.hasClass("combobox-item-disabled")||t.addClass("combobox-item-hover"),o.stopPropagation()}).bind("mouseout",function(o){e(o.target).closest("div.combobox-item").removeClass("combobox-item-hover"),o.stopPropagation()}).bind("click",function(t){var n=e(t.target).closest("div.combobox-item");if(n.length&&!n.hasClass("combobox-item-disabled")){var r=l.finder.getRow(o,n);if(r){var s=r[l.valueField];l.multiple?n.hasClass("combobox-item-selected")?a(o,s):i(o,s):(i(o,s),e(o).combo("hidePanel")),t.stopPropagation()}}})}var p=0;e.fn.combobox=function(o,t){if("string"==typeof o){var n=e.fn.combobox.methods[o];return n?n(this,t):this.combo(o,t)}return o=o||{},this.each(function(){var t=e.data(this,"combobox");if(t)e.extend(t.options,o),u(this);else{t=e.data(this,"combobox",{options:e.extend({},e.fn.combobox.defaults,e.fn.combobox.parseOptions(this),o),data:[]}),u(this);var n=e.fn.combobox.parseData(this);n.length&&r(this,n)}t.options.data&&r(this,t.options.data),s(this)})},e.fn.combobox.methods={options:function(o){var t=o.combo("options");return e.extend(e.data(o[0],"combobox").options,{originalValue:t.originalValue,disabled:t.disabled,readonly:t.readonly})},getData:function(o){return e.data(o[0],"combobox").data},setValues:function(e,o){return e.each(function(){l(this,o)})},setValue:function(e,o){return e.each(function(){l(this,[o])})},clear:function(o){return o.each(function(){e(this).combo("clear");var o=e(this).combo("panel");o.find("div.combobox-item-selected").removeClass("combobox-item-selected")})},reset:function(o){return o.each(function(){var o=e(this).combobox("options");o.multiple?e(this).combobox("setValues",o.originalValue):e(this).combobox("setValue",o.originalValue)})},loadData:function(e,o){return e.each(function(){r(this,o)})},reload:function(e,o){return e.each(function(){s(this,o)})},select:function(e,o){return e.each(function(){i(this,o)})},unselect:function(e,o){return e.each(function(){a(this,o)})}},e.fn.combobox.parseOptions=function(o){e(o);return e.extend({},e.fn.combo.parseOptions(o),e.parser.parseOptions(o,["valueField","textField","groupField","mode","method","url"]))},e.fn.combobox.parseData=function(o){function t(o,t){var a=e(o),l={};l[i.valueField]=void 0!=a.attr("value")?a.attr("value"):a.text(),l[i.textField]=a.text(),l.selected=a.is(":selected"),l.disabled=a.is(":disabled"),t&&(i.groupField=i.groupField||"group",l[i.groupField]=t),n.push(l)}var n=[],i=e(o).combobox("options");return e(o).children().each(function(){if("optgroup"==this.tagName.toLowerCase()){var o=e(this).attr("label");e(this).children().each(function(){t(this,o)})}else t(this)}),n},e.fn.combobox.defaults=e.extend({},e.fn.combo.defaults,{valueField:"value",textField:"text",groupField:null,groupFormatter:function(e){return e},mode:"local",method:"post",url:null,data:null,keyHandler:{up:function(e){n(this,"prev"),e.preventDefault()},down:function(e){n(this,"next"),e.preventDefault()},left:function(){},right:function(){},enter:function(){d(this)},query:function(e){c(this,e)}},filter:function(o,t){var n=e(this).combobox("options");return 0==t[n.textField].toLowerCase().indexOf(o.toLowerCase())},formatter:function(o){var t=e(this).combobox("options");return o[t.textField]},loader:function(o,t,n){var i=e(this).combobox("options");return i.url?void e.ajax({type:i.method,url:i.url,data:o,dataType:"json",success:function(e){t(e)},error:function(){n.apply(this,arguments)}}):!1},loadFilter:function(e){return e},finder:{getEl:function(t,n){var i=o(t,n),a=e.data(t,"combobox").itemIdPrefix+"_"+i;return e("#"+a)},getRow:function(t,n){var i=e.data(t,"combobox"),a=n instanceof jQuery?n.attr("id").substr(i.itemIdPrefix.length+1):o(t,n);return i.data[parseInt(a)]}},onBeforeLoad:function(){},onLoadSuccess:function(){},onLoadError:function(){},onSelect:function(){},onUnselect:function(){}})}(jQuery)}),define("jqui/1.3.6/parser",[],function(){!function(e){e.parser={parseOptions:function(o,t){var n=e(o),i={},a=e.trim(n.attr("data-options"));if(a&&("{"!=a.substring(0,1)&&(a="{"+a+"}"),i=new Function("return "+a)()),t){for(var l={},r=0;r<t.length;r++){var s=t[r];if("string"==typeof s)l[s]="width"==s||"height"==s||"left"==s||"top"==s?parseInt(o.style[s])||void 0:n.attr(s);else for(var c in s){var d=s[c];"boolean"==d?l[c]=n.attr(c)?"true"==n.attr(c):void 0:"number"==d&&(l[c]="0"==n.attr(c)?0:parseFloat(n.attr(c))||void 0)}}e.extend(i,l)}return i}},e.fn._outerWidth=function(o){return void 0==o?this[0]==window?this.width()||document.body.clientWidth:this.outerWidth()||0:this.each(function(){e(this).width(o-(e(this).outerWidth()-e(this).width()))})},e.fn._outerHeight=function(o){return void 0==o?this[0]==window?this.height()||document.body.clientHeight:this.outerHeight()||0:this.each(function(){e(this).height(o-(e(this).outerHeight()-e(this).height()))})},e.fn._scrollLeft=function(o){return void 0==o?this.scrollLeft():this.each(function(){e(this).scrollLeft(o)})},e.fn._propAttr=e.fn.prop||e.fn.attr,e.fn._fit=function(o){o=void 0==o?!0:o;var t=this[0],n="BODY"==t.tagName?t:this.parent()[0],i=n.fcount||0;return o?t.fitted||(t.fitted=!0,n.fcount=i+1,e(n).addClass("panel-noscroll"),"BODY"==n.tagName&&e("html").addClass("panel-fit")):t.fitted&&(t.fitted=!1,n.fcount=i-1,0==n.fcount&&(e(n).removeClass("panel-noscroll"),"BODY"==n.tagName&&e("html").removeClass("panel-fit"))),{width:e(n).width(),height:e(n).height()}}}(jQuery),function(e){function o(o){1==o.touches.length&&(l?(clearTimeout(dblClickTimer),l=!1,i(o,"dblclick")):(l=!0,dblClickTimer=setTimeout(function(){l=!1},500)),a=setTimeout(function(){i(o,"contextmenu",3)},1e3),i(o,"mousedown"),(e.fn.draggable.isDragging||e.fn.resizable.isResizing)&&o.preventDefault())}function t(o){1==o.touches.length&&(a&&clearTimeout(a),i(o,"mousemove"),(e.fn.draggable.isDragging||e.fn.resizable.isResizing)&&o.preventDefault())}function n(o){a&&clearTimeout(a),i(o,"mouseup"),(e.fn.draggable.isDragging||e.fn.resizable.isResizing)&&o.preventDefault()}function i(o,t,n){var i=new e.Event(t);i.pageX=o.changedTouches[0].pageX,i.pageY=o.changedTouches[0].pageY,i.which=n||1,e(o.target).trigger(i)}var a=null,l=!1;document.addEventListener&&(document.addEventListener("touchstart",o,!0),document.addEventListener("touchmove",t,!0),document.addEventListener("touchend",n,!0))}(jQuery)}),define("jqui/1.3.6/combo",[],function(e){e("jqui/1.3.6/parser"),e("jqui/1.3.6/panel"),function(e){function o(o,t){var n=e.data(o,"combo"),i=n.options,a=n.combo,l=n.panel;if(t&&(i.width=t),isNaN(i.width)){var r=e(o).clone();r.css("visibility","hidden"),r.appendTo("body"),i.width=r.outerWidth(),r.remove()}a.appendTo("body");var s=a.find("input.combo-text"),c=a.find(".combo-arrow"),d=c.find(".combo-arrow-icon"),u=0;if(i.hasDownArrow)var u=0!=c._outerWidth()?c._outerWidth():28;a._outerWidth(i.width).height(i.height),s._outerWidth(i.width-11-u),s.css({padding:"0 5px","border-right":"1px solid #ccc",height:i.height+"px",lineHeight:i.height+"px"}),c._outerHeight(i.height),d._outerHeight(i.height),l.panel("resize",{width:i.panelWidth?i.panelWidth:i.width,height:i.panelHeight}),a.insertAfter(o)}function t(o){e(o).addClass("combo-f").hide();var t=e('<span class="combo"><input type="text" class="combo-text"><span class="combo-arrow"><span class="combo-arrow-icon"></span></span><input type="hidden" class="combo-value"></span>').insertAfter(o),n=e('<div class="combo-panel"></div>').appendTo("body");n.panel({doSize:!1,closed:!0,cls:"combo-p",style:{position:"absolute",zIndex:10},onOpen:function(){var o=e(this).panel("panel");e.fn.window&&o.css("z-index",e.fn.window.defaults.zIndex++),e(this).panel("resize")},onBeforeClose:function(){a(this)},onClose:function(){var t=e.data(o,"combo");t&&t.options.onHidePanel.call(o)}});var i=e(o).attr("name");return i&&(t.find("input.combo-value").attr("name",i),e(o).removeAttr("name").attr("comboName",i)),{combo:t,panel:n}}function n(o){var t=e.data(o,"combo"),n=t.options,i=t.combo;n.hasDownArrow?i.find(".combo-arrow").show():i.find(".combo-arrow").hide(),c(o,n.disabled),d(o,n.readonly)}function i(o){var t=e.data(o,"combo");t.panel.panel("destroy"),t.combo.remove(),e(o).remove()}function a(o){e(o).find(".combo-f").each(function(){var o=e(this).combo("panel");o.is(":visible")&&o.panel("close")})}function l(o){function t(){if(l.is(":visible"))s(o);else{var t=e(this).closest("div.combo-panel");e("div.combo-panel:visible").not(l).not(t).panel("close"),e(o).combo("showPanel")}c.focus()}var n=e.data(o,"combo"),i=n.options,l=n.panel,r=n.combo,c=r.find(".combo-text"),d=r.find(".combo-arrow");e(document).unbind(".combo").bind("mousedown.combo",function(o){var t=e(o.target).closest("span.combo,div.combo-p");return t.length?void a(t):void e("body>div.combo-p>div.combo-panel:visible").panel("close")}),c.unbind(".combo"),d.unbind(".combo"),i.disabled||i.readonly||(c.bind("click.combo",function(){if(i.editable){var o=e(this).closest("div.combo-panel");e("div.combo-panel:visible").not(l).not(o).panel("close")}else t.call(this)}).bind("keydown.combo paste.combo drop.combo",function(t){switch(t.keyCode){case 38:i.keyHandler.up.call(o,t);break;case 40:i.keyHandler.down.call(o,t);break;case 37:i.keyHandler.left.call(o,t);break;case 39:i.keyHandler.right.call(o,t);break;case 13:return t.preventDefault(),i.keyHandler.enter.call(o,t),!1;case 9:case 27:s(o);break;default:i.editable&&(n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){var a=c.val();n.previousValue!=a&&(n.previousValue=a,e(o).combo("showPanel"),i.keyHandler.query.call(o,c.val(),t))},i.delay))}}),d.bind("click.combo",function(){t.call(this)}).bind("mouseenter.combo",function(){e(this).addClass("combo-arrow-hover")}).bind("mouseleave.combo",function(){e(this).removeClass("combo-arrow-hover")}))}function r(o){function t(){var o=l.offset().left;return"right"==a.panelAlign&&(o+=l._outerWidth()-r._outerWidth()),o+r._outerWidth()>e(window)._outerWidth()+e(document).scrollLeft()&&(o=e(window)._outerWidth()+e(document).scrollLeft()-r._outerWidth()),0>o&&(o=0),o}function n(){var o=l.offset().top+l._outerHeight();return o+r._outerHeight()>e(window)._outerHeight()+e(document).scrollTop()&&(o=l.offset().top-r._outerHeight()),o<e(document).scrollTop()&&(o=l.offset().top+l._outerHeight()),o}var i=e.data(o,"combo"),a=i.options,l=i.combo,r=i.panel;r.panel("move",{left:t(),top:n()}),r.panel("options").closed&&(r.panel("open"),a.onShowPanel.call(o)),function(){r.is(":visible")&&(r.panel("move",{left:t(),top:n()}),setTimeout(arguments.callee,200))}()}function s(o){var t=e.data(o,"combo").panel;t.panel("close")}function c(o,t){var n=e.data(o,"combo"),i=n.options,a=n.combo;t?(i.disabled=!0,e(o).attr("disabled",!0),a.find(".combo-value").attr("disabled",!0),a.find(".combo-text").attr("disabled",!0)):(i.disabled=!1,e(o).removeAttr("disabled"),a.find(".combo-value").removeAttr("disabled"),a.find(".combo-text").removeAttr("disabled"))}function d(o,t){var n=e.data(o,"combo"),i=n.options;i.readonly=void 0==t?!0:t;var a=i.readonly?!0:!i.editable;n.combo.find(".combo-text").attr("readonly",a).css("cursor",a?"pointer":"")}function u(o){var t=e.data(o,"combo"),n=t.options,i=t.combo;n.multiple?i.find("input.combo-value").remove():i.find("input.combo-value").val(""),i.find("input.combo-text").val("")}function p(o){var t=e.data(o,"combo").combo;return t.find("input.combo-text").val()}function h(o,t){var n=e.data(o,"combo"),i=n.combo.find("input.combo-text");i.val()!=t&&(i.val(t),n.previousValue=t)}function f(o){var t=[],n=e.data(o,"combo").combo;return n.find("input.combo-value").each(function(){t.push(e(this).val())}),t}function m(o,t){var n=e.data(o,"combo").options,i=f(o),a=e.data(o,"combo").combo;a.find("input.combo-value").remove();for(var l=e(o).attr("comboName"),r=0;r<t.length;r++){var s=e('<input type="hidden" class="combo-value">').appendTo(a);l&&s.attr("name",l),s.val(t[r])}for(var c=[],r=0;r<i.length;r++)c[r]=i[r];for(var d=[],r=0;r<t.length;r++)for(var u=0;u<c.length;u++)if(t[r]==c[u]){d.push(t[r]),c.splice(u,1);break}(d.length!=t.length||t.length!=i.length)&&(n.multiple?n.onChange.call(o,t,i):n.onChange.call(o,t[0],i[0]))}function b(e){var o=f(e);return o[0]}function v(e,o){m(e,[o])}function g(o){var t=e.data(o,"combo").options,n=t.onChange;t.onChange=function(){},t.multiple?(t.value?"object"==typeof t.value?m(o,t.value):v(o,t.value):m(o,[]),t.originalValue=f(o)):(v(o,t.value),t.originalValue=t.value),t.onChange=n}e.fn.combo=function(i,a){return"string"==typeof i?e.fn.combo.methods[i](this,a):(i=i||{},this.each(function(){var a=e.data(this,"combo");if(a)e.extend(a.options,i);else{var r=t(this);a=e.data(this,"combo",{options:e.extend({},e.fn.combo.defaults,e.fn.combo.parseOptions(this),i),combo:r.combo,panel:r.panel,previousValue:null}),e(this).removeAttr("disabled")}n(this),o(this),l(this),g(this)}))},e.fn.combo.methods={options:function(o){return e.data(o[0],"combo").options},panel:function(o){return e.data(o[0],"combo").panel},textbox:function(o){return e.data(o[0],"combo").combo.find("input.combo-text")},destroy:function(e){return e.each(function(){i(this)})},resize:function(e,t){return e.each(function(){o(this,t)})},showPanel:function(e){return e.each(function(){r(this)})},hidePanel:function(e){return e.each(function(){s(this)})},disable:function(e){return e.each(function(){c(this,!0),l(this)})},enable:function(e){return e.each(function(){c(this,!1),l(this)})},readonly:function(e,o){return e.each(function(){d(this,o),l(this)})},clear:function(e){return e.each(function(){u(this)})},reset:function(o){return o.each(function(){var o=e.data(this,"combo").options;o.multiple?e(this).combo("setValues",o.originalValue):e(this).combo("setValue",o.originalValue)})},getText:function(e){return p(e[0])},setText:function(e,o){return e.each(function(){h(this,o)})},getValues:function(e){return f(e[0])},setValues:function(e,o){return e.each(function(){m(this,o)})},getValue:function(e){return b(e[0])},setValue:function(e,o){return e.each(function(){v(this,o)})}},e.fn.combo.parseOptions=function(o){var t=e(o);return e.extend({},e.parser.parseOptions(o,["width","height","separator","panelAlign",{panelWidth:"number",editable:"boolean",hasDownArrow:"boolean",delay:"number",selectOnNavigation:"boolean"}]),{panelHeight:"auto"==t.attr("panelHeight")?"auto":parseInt(t.attr("panelHeight"))||void 0,multiple:t.attr("multiple")?!0:void 0,disabled:t.attr("disabled")?!0:void 0,readonly:t.attr("readonly")?!0:void 0,value:t.val()||void 0})},e.fn.combo.defaults=e.extend({},{width:"auto",height:30,panelWidth:null,panelHeight:200,panelAlign:"left",multiple:!1,selectOnNavigation:!0,separator:",",editable:!0,disabled:!1,readonly:!1,hasDownArrow:!0,value:"",delay:200,deltaX:19,keyHandler:{up:function(){},down:function(){},left:function(){},right:function(){},enter:function(){},query:function(){}},onShowPanel:function(){},onHidePanel:function(){},onChange:function(){}})}(jQuery)}),define("jqui/1.3.6/panel",[],function(require,exports,module){require("jqui/1.3.6/parser"),function($){function removeEach(e){e._remove()}function resize(e,o){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel,i=n.children("div.panel-header"),a=n.children("div.panel-content");o&&$.extend(t,{width:o.width,height:o.height,left:o.left,top:o.top}),t.fit?$.extend(t,n._fit()):n._fit(!1),n.css({left:t.left,top:t.top}),isNaN(t.width)?n.width("auto"):n._outerWidth(t.width),isNaN(t.height)?a.height("auto"):(n._outerHeight(t.height),a._outerHeight(n.height()-i._outerHeight())),n.css("height",""),t.onResize.apply(e,[t.width,t.height]),$(e).find(">div:visible,>form>div:visible").triggerHandler("_resize")}function move(e,o){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel;o&&(null!=o.left&&(t.left=o.left),null!=o.top&&(t.top=o.top)),n.css({left:t.left,top:t.top}),t.onMove.apply(e,[t.left,t.top])}function create(e){$(e).addClass("panel-content");var o=$('<div class="panel"></div>').insertBefore(e);return o[0].appendChild(e),o.bind("_resize",function(){var o=$.data(e,"panel").options;return 1==o.fit&&resize(e),!1}),o}function init(target){var opts=$.data(target,"panel").options,panel=$.data(target,"panel").panel;if(opts.tools&&"string"==typeof opts.tools&&panel.find(">div.panel-header>div.panel-tool .panel-tool-a").appendTo(opts.tools),removeEach(panel.children("div.panel-header")),opts.title&&!opts.noheader){var panelHeader=$('<div class="panel-header"><div class="panel-title">'+opts.title+"</div></div>").prependTo(panel);opts.iconCls&&(panelHeader.find(".panel-title").addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(opts.iconCls).appendTo(panelHeader));var panelTool=$('<div class="panel-tool"></div>').appendTo(panelHeader);if(panelTool.bind("click",function(e){e.stopPropagation()}),opts.tools)if($.isArray(opts.tools))for(var i=0;i<opts.tools.length;i++){var t=$('<a href="javascript:void(0)"></a>').addClass(opts.tools[i].iconCls).appendTo(panelTool);opts.tools[i].handler&&t.bind("click",eval(opts.tools[i].handler))}else $(opts.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(panelTool)});opts.collapsible&&$('<a class="panel-tool-collapse" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return 1==opts.collapsed?showPanelContent(target,!0):hidePanelContent(target,!0),!1}),opts.minimizable&&$('<a class="panel-tool-min" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return minimize(target),!1}),opts.maximizable&&$('<a class="panel-tool-max" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return 1==opts.maximized?restore(target):maximize(target),!1}),opts.closable&&$('<a class="panel-tool-close" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return hidePanel(target),!1}),panel.children("div.panel-content").removeClass("panel-content-noheader")}else panel.children("div.panel-content").addClass("panel-content-noheader")}function refreshPanelContent(e,o){function t(o){$(e).html(o),$.parser.parse($(e))}var n=$.data(e,"panel"),i=n.options;if(o&&(i.queryParams=o),i.href){if(!n.isLoaded||!i.cache){var a=$.extend({},i.queryParams);if(0==i.onBeforeLoad.call(e,a))return;n.isLoaded=!1,destroyPanelContent(e),i.loadingMessage&&$(e).html($('<div class="panel-loading"></div>').html(i.loadingMessage)),i.loader.call(e,a,function(o){t(i.extractor.call(e,o)),i.onLoad.apply(e,arguments),n.isLoaded=!0},function(){i.onLoadError.apply(e,arguments)})}}else i.content&&(n.isLoaded||(destroyPanelContent(e),t(i.content),n.isLoaded=!0))}function destroyPanelContent(e){var o=$(e);o.find(".combo-f").each(function(){$(this).combo("destroy")}),o.find(".tooltip-f").each(function(){$(this).tooltip("destroy")}),o.children("div").each(function(){$(this)._fit(!1)})}function resizePanel(e){$(e).find("div.panel:visible").each(function(){$(this).triggerHandler("_resize",[!0])})}function showPanel(e,o){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel;if(1==o||0!=t.onBeforeOpen.call(e)){n.show(),t.closed=!1,t.minimized=!1;var i=n.children("div.panel-header").find("a.panel-tool-restore");i.length&&(t.maximized=!0),t.onOpen.call(e),1==t.maximized&&(t.maximized=!1,maximize(e)),1==t.collapsed&&(t.collapsed=!1,hidePanelContent(e)),t.collapsed||(refreshPanelContent(e),resizePanel(e))}}function hidePanel(e,o){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel;(1==o||0!=t.onBeforeClose.call(e))&&(n._fit(!1),n.hide(),t.closed=!0,t.onClose.call(e))}function destroy(e,o){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel;(1==o||0!=t.onBeforeDestroy.call(e))&&(destroyPanelContent(e),removeEach(n),t.onDestroy.call(e))}function hidePanelContent(e,o){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel,i=n.children("div.panel-content"),a=n.children("div.panel-header").find("a.panel-tool-collapse");1!=t.collapsed&&(i.stop(!0,!0),0!=t.onBeforeCollapse.call(e)&&(a.addClass("panel-tool-expand"),1==o?i.slideUp("normal",function(){t.collapsed=!0,t.onCollapse.call(e)}):(i.hide(),t.collapsed=!0,t.onCollapse.call(e))))}function showPanelContent(e,o){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel,i=n.children("div.panel-content"),a=n.children("div.panel-header").find("a.panel-tool-collapse");0!=t.collapsed&&(i.stop(!0,!0),0!=t.onBeforeExpand.call(e)&&(a.removeClass("panel-tool-expand"),1==o?i.slideDown("normal",function(){t.collapsed=!1,t.onExpand.call(e),refreshPanelContent(e),resizePanel(e)}):(i.show(),t.collapsed=!1,t.onExpand.call(e),refreshPanelContent(e),resizePanel(e))))}function maximize(e){var o=$.data(e,"panel").options,t=$.data(e,"panel").panel,n=t.children("div.panel-header").find("a.panel-tool-max");1!=o.maximized&&(n.addClass("panel-tool-restore"),$.data(e,"panel").original||($.data(e,"panel").original={width:o.width,height:o.height,left:o.left,top:o.top,fit:o.fit}),o.left=0,o.top=0,o.fit=!0,resize(e),o.minimized=!1,o.maximized=!0,o.onMaximize.call(e))}function minimize(e){var o=$.data(e,"panel").options,t=$.data(e,"panel").panel;t._fit(!1),t.hide(),o.minimized=!0,o.maximized=!1,o.onMinimize.call(e)}function restore(e){var o=$.data(e,"panel").options,t=$.data(e,"panel").panel,n=t.children("div.panel-header").find("a.panel-tool-max");0!=o.maximized&&(t.show(),n.removeClass("panel-tool-restore"),$.extend(o,$.data(e,"panel").original),resize(e),o.minimized=!1,o.maximized=!1,$.data(e,"panel").original=null,o.onRestore.call(e))}function initStyle(e){var o=$.data(e,"panel").options,t=$.data(e,"panel").panel,n=$(e).panel("header"),i=$(e).panel("body");t.css(o.style),t.addClass(o.cls),o.border?t.removeClass("panel-noborder"):t.addClass("panel-noborder"),n.addClass(o.headerCls),i.addClass(o.bodyCls),o.id?$(e).attr("id",o.id):$(e).attr("id","")}function setTitle(e,o){$.data(e,"panel").options.title=o,$(e).panel("header").find("div.panel-title").html(o)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(e){}})};var TO=!1,_5b=!0;$(window).unbind(".panel").bind("resize.panel",function(){_5b&&(TO!==!1&&clearTimeout(TO),TO=setTimeout(function(){_5b=!1,$("body").children("div.panel:visible").triggerHandler("_resize"),_5b=!0,TO=!1},200))}),$.fn.panel=function(e,o){return"string"==typeof e?$.fn.panel.methods[e](this,o):(e=e||{},this.each(function(){var o,t=$.data(this,"panel");t?(o=$.extend(t.options,e),t.isLoaded=!1):(o=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),e),$(this).attr("title",""),t=$.data(this,"panel",{options:o,panel:create(this),isLoaded:!1})),init(this),initStyle(this),1==o.doSize&&(t.panel.css("display","block"),resize(this)),1==o.closed||1==o.minimized?t.panel.hide():showPanel(this)}))},$.fn.panel.methods={options:function(e){return $.data(e[0],"panel").options},panel:function(e){return $.data(e[0],"panel").panel},header:function(e){return $.data(e[0],"panel").panel.find(">div.panel-header")},body:function(e){return $.data(e[0],"panel").panel.find(">div.panel-content")},setTitle:function(e,o){return e.each(function(){setTitle(this,o)})},open:function(e,o){return e.each(function(){showPanel(this,o)})},close:function(e,o){return e.each(function(){hidePanel(this,o)})},destroy:function(e,o){return e.each(function(){destroy(this,o)})},refresh:function(e,o){return e.each(function(){var e=$.data(this,"panel");e.isLoaded=!1,o&&("string"==typeof o?e.options.href=o:e.options.queryParams=o),refreshPanelContent(this)})},resize:function(e,o){return e.each(function(){resize(this,o)})},move:function(e,o){return e.each(function(){move(this,o)})},maximize:function(e){return e.each(function(){maximize(this)})},minimize:function(e){return e.each(function(){minimize(this)})},restore:function(e){return e.each(function(){restore(this)})},collapse:function(e,o){return e.each(function(){hidePanelContent(this,o)})},expand:function(e,o){return e.each(function(){showPanelContent(this,o)})}},$.fn.panel.parseOptions=function(e){var o=$(e);return $.extend({},$.parser.parseOptions(e,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"}]),{loadingMessage:void 0!=o.attr("loadingMessage")?o.attr("loadingMessage"):void 0})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,tools:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(e,o,t){var n=$(this).panel("options");return n.href?void $.ajax({type:n.method,url:n.href,cache:!1,data:e,dataType:"html",success:function(e){o(e)},error:function(){t.apply(this,arguments)}}):!1},extractor:function(e){var o=/<body[^>]*>((.|[\n\r])*)<\/body>/im,t=o.exec(e);return t?t[1]:e},onBeforeLoad:function(){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(){},onMove:function(){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}(jQuery)});