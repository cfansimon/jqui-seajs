define("jqui/1.3.6/window",[],function(t){t("jqui/1.3.6/parser"),t("jqui/1.3.6/resizable"),t("jqui/1.3.6/draggable"),t("jqui/1.3.6/panel"),function(t){function e(e,a){var n=t.data(e,"window").options;a&&t.extend(n,a),t(e).panel("resize",n)}function a(e,a){var n=t.data(e,"window");a&&(null!=a.left&&(n.options.left=a.left),null!=a.top&&(n.options.top=a.top)),t(e).panel("move",n.options),n.shadow&&n.shadow.css({left:n.options.left,top:n.options.top})}function n(e,n){var o=t.data(e,"window"),i=o.options,d=i.width;if(isNaN(d)&&(d=o.window._outerWidth()),i.inline){var r=o.window.parent();i.left=(r.width()-d)/2+r.scrollLeft()}else i.left=(t(window)._outerWidth()-d)/2+t(document).scrollLeft();n&&a(e)}function o(e,n){var o=t.data(e,"window"),i=o.options,d=i.height;if(isNaN(d)&&(d=o.window._outerHeight()),i.inline){var r=o.window.parent();i.top=(r.height()-d)/2+r.scrollTop()}else i.top=(t(window)._outerHeight()-d)/2+t(document).scrollTop();n&&a(e)}function i(e){var i=t.data(e,"window"),d=i.options.closed,s=t(e).panel(t.extend({},i.options,{border:!1,doSize:!0,closed:!0,cls:"window",headerCls:"window-header",bodyCls:"window-body "+(i.options.noheader?"window-body-noheader":""),onBeforeDestroy:function(){return 0==i.options.onBeforeDestroy.call(e)?!1:(i.shadow&&i.shadow.remove(),void(i.mask&&i.mask.remove()))},onClose:function(){i.shadow&&i.shadow.hide(),i.mask&&i.mask.hide(),i.options.onClose.call(e)},onOpen:function(){i.mask&&i.mask.css({display:"block",zIndex:t.fn.window.defaults.zIndex++}),i.shadow&&i.shadow.css({display:"block",zIndex:t.fn.window.defaults.zIndex++,left:i.options.left,top:i.options.top,width:i.window._outerWidth(),height:i.window._outerHeight()}),i.window.css("z-index",t.fn.window.defaults.zIndex++),i.options.onOpen.call(e)},onResize:function(a,n){var o=t(this).panel("options");t.extend(i.options,{width:o.width,height:o.height,left:o.left,top:o.top}),i.shadow&&i.shadow.css({left:i.options.left,top:i.options.top,width:i.window._outerWidth(),height:i.window._outerHeight()}),i.options.onResize.call(e,a,n)},onMinimize:function(){i.shadow&&i.shadow.hide(),i.mask&&i.mask.hide(),i.options.onMinimize.call(e)},onBeforeCollapse:function(){return 0==i.options.onBeforeCollapse.call(e)?!1:void(i.shadow&&i.shadow.hide())},onExpand:function(){i.shadow&&i.shadow.show(),i.options.onExpand.call(e)}}));i.window=s.panel("panel"),i.mask&&i.mask.remove(),1==i.options.modal&&(i.mask=t('<div class="window-mask"></div>').insertAfter(i.window),i.mask.css({width:i.options.inline?i.mask.parent().width():r().width,height:i.options.inline?i.mask.parent().height():r().height,display:"none"})),i.shadow&&i.shadow.remove(),1==i.options.shadow&&(i.shadow=t('<div class="window-shadow"></div>').insertAfter(i.window),i.shadow.css({display:"none"})),null==i.options.left&&n(e),null==i.options.top&&o(e),a(e),d||s.window("open")}function d(a){var n=t.data(a,"window");n.window.draggable({handle:">div.panel-header>div.panel-title",disabled:0==n.options.draggable,onStartDrag:function(e){n.mask&&n.mask.css("z-index",t.fn.window.defaults.zIndex++),n.shadow&&n.shadow.css("z-index",t.fn.window.defaults.zIndex++),n.window.css("z-index",t.fn.window.defaults.zIndex++),n.proxy||(n.proxy=t('<div class="window-proxy"></div>').insertAfter(n.window)),n.proxy.css({display:"none",zIndex:t.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top}),n.proxy._outerWidth(n.window._outerWidth()),n.proxy._outerHeight(n.window._outerHeight()),setTimeout(function(){n.proxy&&n.proxy.show()},500)},onDrag:function(t){return n.proxy.css({display:"block",left:t.data.left,top:t.data.top}),!1},onStopDrag:function(e){n.options.left=e.data.left,n.options.top=e.data.top,t(a).window("move"),n.proxy.remove(),n.proxy=null}}),n.window.resizable({disabled:0==n.options.resizable,onStartResize:function(e){n.pmask=t('<div class="window-proxy-mask"></div>').insertAfter(n.window),n.pmask.css({zIndex:t.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top,width:n.window._outerWidth(),height:n.window._outerHeight()}),n.proxy||(n.proxy=t('<div class="window-proxy"></div>').insertAfter(n.window)),n.proxy.css({zIndex:t.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top}),n.proxy._outerWidth(e.data.width),n.proxy._outerHeight(e.data.height)},onResize:function(t){return n.proxy.css({left:t.data.left,top:t.data.top}),n.proxy._outerWidth(t.data.width),n.proxy._outerHeight(t.data.height),!1},onStopResize:function(o){t.extend(n.options,{left:o.data.left,top:o.data.top,width:o.data.width,height:o.data.height}),e(a),n.pmask.remove(),n.pmask=null,n.proxy.remove(),n.proxy=null}})}function r(){return"BackCompat"==document.compatMode?{width:Math.max(document.body.scrollWidth,document.body.clientWidth),height:Math.max(document.body.scrollHeight,document.body.clientHeight)}:{width:Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),height:Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight)}}t(window).resize(function(){t("body>div.window-mask").css({width:t(window)._outerWidth(),height:t(window)._outerHeight()}),setTimeout(function(){t("body>div.window-mask").css({width:r().width,height:r().height})},50)}),t.fn.window=function(e,a){if("string"==typeof e){var n=t.fn.window.methods[e];return n?n(this,a):this.panel(e,a)}return e=e||{},this.each(function(){var a=t.data(this,"window");a?t.extend(a.options,e):(a=t.data(this,"window",{options:t.extend({},t.fn.window.defaults,t.fn.window.parseOptions(this),e)}),a.options.inline||document.body.appendChild(this)),i(this),d(this)})},t.fn.window.methods={options:function(e){var a=e.panel("options"),n=t.data(e[0],"window").options;return t.extend(n,{closed:a.closed,collapsed:a.collapsed,minimized:a.minimized,maximized:a.maximized})},window:function(e){return t.data(e[0],"window").window},resize:function(t,a){return t.each(function(){e(this,a)})},move:function(t,e){return t.each(function(){a(this,e)})},hcenter:function(t){return t.each(function(){n(this,!0)})},vcenter:function(t){return t.each(function(){o(this,!0)})},center:function(t){return t.each(function(){n(this),o(this),a(this)})}},t.fn.window.parseOptions=function(e){return t.extend({},t.fn.panel.parseOptions(e),t.parser.parseOptions(e,[{draggable:"boolean",resizable:"boolean",shadow:"boolean",modal:"boolean",inline:"boolean"}]))},t.fn.window.defaults=t.extend({},t.fn.panel.defaults,{zIndex:9e3,draggable:!0,resizable:!0,shadow:!0,modal:!1,inline:!1,title:"New Window",collapsible:!0,minimizable:!0,maximizable:!0,closable:!0,closed:!1})}(jQuery)}),define("jqui/1.3.6/parser",[],function(){!function(t){t.parser={parseOptions:function(e,a){var n=t(e),o={},i=t.trim(n.attr("data-options"));if(i&&("{"!=i.substring(0,1)&&(i="{"+i+"}"),o=new Function("return "+i)()),a){for(var d={},r=0;r<a.length;r++){var s=a[r];if("string"==typeof s)d[s]="width"==s||"height"==s||"left"==s||"top"==s?parseInt(e.style[s])||void 0:n.attr(s);else for(var l in s){var p=s[l];"boolean"==p?d[l]=n.attr(l)?"true"==n.attr(l):void 0:"number"==p&&(d[l]="0"==n.attr(l)?0:parseFloat(n.attr(l))||void 0)}}t.extend(o,d)}return o}},t.fn._outerWidth=function(e){return void 0==e?this[0]==window?this.width()||document.body.clientWidth:this.outerWidth()||0:this.each(function(){t(this).width(e-(t(this).outerWidth()-t(this).width()))})},t.fn._outerHeight=function(e){return void 0==e?this[0]==window?this.height()||document.body.clientHeight:this.outerHeight()||0:this.each(function(){t(this).height(e-(t(this).outerHeight()-t(this).height()))})},t.fn._scrollLeft=function(e){return void 0==e?this.scrollLeft():this.each(function(){t(this).scrollLeft(e)})},t.fn._propAttr=t.fn.prop||t.fn.attr,t.fn._fit=function(e){e=void 0==e?!0:e;var a=this[0],n="BODY"==a.tagName?a:this.parent()[0],o=n.fcount||0;return e?a.fitted||(a.fitted=!0,n.fcount=o+1,t(n).addClass("panel-noscroll"),"BODY"==n.tagName&&t("html").addClass("panel-fit")):a.fitted&&(a.fitted=!1,n.fcount=o-1,0==n.fcount&&(t(n).removeClass("panel-noscroll"),"BODY"==n.tagName&&t("html").removeClass("panel-fit"))),{width:t(n).width(),height:t(n).height()}}}(jQuery),function(t){function e(e){1==e.touches.length&&(d?(clearTimeout(dblClickTimer),d=!1,o(e,"dblclick")):(d=!0,dblClickTimer=setTimeout(function(){d=!1},500)),i=setTimeout(function(){o(e,"contextmenu",3)},1e3),o(e,"mousedown"),(t.fn.draggable.isDragging||t.fn.resizable.isResizing)&&e.preventDefault())}function a(e){1==e.touches.length&&(i&&clearTimeout(i),o(e,"mousemove"),(t.fn.draggable.isDragging||t.fn.resizable.isResizing)&&e.preventDefault())}function n(e){i&&clearTimeout(i),o(e,"mouseup"),(t.fn.draggable.isDragging||t.fn.resizable.isResizing)&&e.preventDefault()}function o(e,a,n){var o=new t.Event(a);o.pageX=e.changedTouches[0].pageX,o.pageY=e.changedTouches[0].pageY,o.which=n||1,t(e.target).trigger(o)}var i=null,d=!1;document.addEventListener&&(document.addEventListener("touchstart",e,!0),document.addEventListener("touchmove",a,!0),document.addEventListener("touchend",n,!0))}(jQuery)}),define("jqui/1.3.6/resizable",[],function(t){t("jqui/1.3.6/parser"),function(t){t.fn.resizable=function(e,a){function n(e){var a=e.data,n=t.data(a.target,"resizable").options;if(-1!=a.dir.indexOf("e")){var o=a.startWidth+e.pageX-a.startX;o=Math.min(Math.max(o,n.minWidth),n.maxWidth),a.width=o}if(-1!=a.dir.indexOf("s")){var i=a.startHeight+e.pageY-a.startY;i=Math.min(Math.max(i,n.minHeight),n.maxHeight),a.height=i}if(-1!=a.dir.indexOf("w")){var o=a.startWidth-e.pageX+a.startX;o=Math.min(Math.max(o,n.minWidth),n.maxWidth),a.width=o,a.left=a.startLeft+a.startWidth-a.width}if(-1!=a.dir.indexOf("n")){var i=a.startHeight-e.pageY+a.startY;i=Math.min(Math.max(i,n.minHeight),n.maxHeight),a.height=i,a.top=a.startTop+a.startHeight-a.height}}function o(e){var a=e.data,n=t(a.target);n.css({left:a.left,top:a.top}),n.outerWidth()!=a.width&&n._outerWidth(a.width),n.outerHeight()!=a.height&&n._outerHeight(a.height)}function i(e){return t.fn.resizable.isResizing=!0,t.data(e.data.target,"resizable").options.onStartResize.call(e.data.target,e),!1}function d(e){return n(e),0!=t.data(e.data.target,"resizable").options.onResize.call(e.data.target,e)&&o(e),!1}function r(e){return t.fn.resizable.isResizing=!1,n(e,!0),o(e),t.data(e.data.target,"resizable").options.onStopResize.call(e.data.target,e),t(document).unbind(".resizable"),t("body").css("cursor",""),!1}return"string"==typeof e?t.fn.resizable.methods[e](this,a):this.each(function(){function a(e){var a=t(e.data.target),o="",i=a.offset(),d=a.outerWidth(),r=a.outerHeight(),s=n.edge;e.pageY>i.top&&e.pageY<i.top+s?o+="n":e.pageY<i.top+r&&e.pageY>i.top+r-s&&(o+="s"),e.pageX>i.left&&e.pageX<i.left+s?o+="w":e.pageX<i.left+d&&e.pageX>i.left+d-s&&(o+="e");for(var l=n.handles.split(","),p=0;p<l.length;p++){var h=l[p].replace(/(^\s*)|(\s*$)/g,"");if("all"==h||h==o)return o}return""}var n=null,o=t.data(this,"resizable");o?(t(this).unbind(".resizable"),n=t.extend(o.options,e||{})):(n=t.extend({},t.fn.resizable.defaults,t.fn.resizable.parseOptions(this),e||{}),t.data(this,"resizable",{options:n})),1!=n.disabled&&t(this).bind("mousemove.resizable",{target:this},function(e){if(!t.fn.resizable.isResizing){var n=a(e);""==n?t(e.data.target).css("cursor",""):t(e.data.target).css("cursor",n+"-resize")}}).bind("mouseleave.resizable",{target:this},function(e){t(e.data.target).css("cursor","")}).bind("mousedown.resizable",{target:this},function(e){function n(a){var n=parseInt(t(e.data.target).css(a));return isNaN(n)?0:n}var o=a(e);if(""!=o){var s={target:e.data.target,dir:o,startLeft:n("left"),startTop:n("top"),left:n("left"),top:n("top"),startX:e.pageX,startY:e.pageY,startWidth:t(e.data.target).outerWidth(),startHeight:t(e.data.target).outerHeight(),width:t(e.data.target).outerWidth(),height:t(e.data.target).outerHeight(),deltaWidth:t(e.data.target).outerWidth()-t(e.data.target).width(),deltaHeight:t(e.data.target).outerHeight()-t(e.data.target).height()};t(document).bind("mousedown.resizable",s,i),t(document).bind("mousemove.resizable",s,d),t(document).bind("mouseup.resizable",s,r),t("body").css("cursor",o+"-resize")}})})},t.fn.resizable.methods={options:function(e){return t.data(e[0],"resizable").options},enable:function(e){return e.each(function(){t(this).resizable({disabled:!1})})},disable:function(e){return e.each(function(){t(this).resizable({disabled:!0})})}},t.fn.resizable.parseOptions=function(e){var a=t(e);return t.extend({},t.parser.parseOptions(e,["handles",{minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number",edge:"number"}]),{disabled:a.attr("disabled")?!0:void 0})},t.fn.resizable.defaults={disabled:!1,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4,edge:5,onStartResize:function(){},onResize:function(){},onStopResize:function(){}},t.fn.resizable.isResizing=!1}(jQuery)}),define("jqui/1.3.6/draggable",[],function(t){t("jqui/1.3.6/parser"),function(t){function e(e){var a=t.data(e.data.target,"draggable"),n=a.options,o=a.proxy,i=e.data,d=i.startLeft+e.pageX-i.startX,r=i.startTop+e.pageY-i.startY;o&&(o.parent()[0]==document.body?(d=null!=n.deltaX&&void 0!=n.deltaX?e.pageX+n.deltaX:e.pageX-e.data.offsetWidth,r=null!=n.deltaY&&void 0!=n.deltaY?e.pageY+n.deltaY:e.pageY-e.data.offsetHeight):(null!=n.deltaX&&void 0!=n.deltaX&&(d+=e.data.offsetWidth+n.deltaX),null!=n.deltaY&&void 0!=n.deltaY&&(r+=e.data.offsetHeight+n.deltaY))),e.data.parent!=document.body&&(d+=t(e.data.parent).scrollLeft(),r+=t(e.data.parent).scrollTop()),"h"==n.axis?i.left=d:"v"==n.axis?i.top=r:(i.left=d,i.top=r)}function a(e){var a=t.data(e.data.target,"draggable"),n=a.options,o=a.proxy;o||(o=t(e.data.target)),o.css({left:e.data.left,top:e.data.top}),t("body").css("cursor",n.cursor)}function n(n){t.fn.draggable.isDragging=!0;var o=t.data(n.data.target,"draggable"),i=o.options,d=t(".droppable").filter(function(){return n.data.target!=this}).filter(function(){var e=t.data(this,"droppable").options.accept;return e?t(e).filter(function(){return this==n.data.target}).length>0:!0});o.droppables=d;var r=o.proxy;return r||(i.proxy?(r="clone"==i.proxy?t(n.data.target).clone().insertAfter(n.data.target):i.proxy.call(n.data.target,n.data.target),o.proxy=r):r=t(n.data.target)),r.css("position","absolute"),e(n),a(n),i.onStartDrag.call(n.data.target,n),!1}function o(n){var o=t.data(n.data.target,"draggable");e(n),0!=o.options.onDrag.call(n.data.target,n)&&a(n);var i=n.data.target;return o.droppables.each(function(){var e=t(this);if(!e.droppable("options").disabled){var a=e.offset();n.pageX>a.left&&n.pageX<a.left+e.outerWidth()&&n.pageY>a.top&&n.pageY<a.top+e.outerHeight()?(this.entered||(t(this).trigger("_dragenter",[i]),this.entered=!0),t(this).trigger("_dragover",[i])):this.entered&&(t(this).trigger("_dragleave",[i]),this.entered=!1)}}),!1}function i(e){function a(){d&&d.remove(),i.proxy=null}function n(){var n=!1;return i.droppables.each(function(){var o=t(this);if(!o.droppable("options").disabled){var i=o.offset();return e.pageX>i.left&&e.pageX<i.left+o.outerWidth()&&e.pageY>i.top&&e.pageY<i.top+o.outerHeight()?(r.revert&&t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop}),t(this).trigger("_drop",[e.data.target]),a(),n=!0,this.entered=!1,!1):void 0}}),n||r.revert||a(),n}t.fn.draggable.isDragging=!1,o(e);var i=t.data(e.data.target,"draggable"),d=i.proxy,r=i.options;if(r.revert)if(1==n())t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop});else if(d){var s,l;d.parent()[0]==document.body?(s=e.data.startX-e.data.offsetWidth,l=e.data.startY-e.data.offsetHeight):(s=e.data.startLeft,l=e.data.startTop),d.animate({left:s,top:l},function(){a()})}else t(e.data.target).animate({left:e.data.startLeft,top:e.data.startTop},function(){t(e.data.target).css("position",e.data.startPosition)});else t(e.data.target).css({position:"absolute",left:e.data.left,top:e.data.top}),n();return r.onStopDrag.call(e.data.target,e),t(document).unbind(".draggable"),setTimeout(function(){t("body").css("cursor","")},100),!1}t.fn.draggable=function(e,a){return"string"==typeof e?t.fn.draggable.methods[e](this,a):this.each(function(){function a(e){var a=t.data(e.data.target,"draggable"),n=a.handle,o=t(n).offset(),i=t(n).outerWidth(),d=t(n).outerHeight(),r=e.pageY-o.top,s=o.left+i-e.pageX,l=o.top+d-e.pageY,p=e.pageX-o.left;return Math.min(r,s,l,p)>a.options.edge}var d,r=t.data(this,"draggable");r?(r.handle.unbind(".draggable"),d=t.extend(r.options,e)):d=t.extend({},t.fn.draggable.defaults,t.fn.draggable.parseOptions(this),e||{});var s=d.handle?"string"==typeof d.handle?t(d.handle,this):d.handle:t(this);return t.data(this,"draggable",{options:d,handle:s}),d.disabled?void t(this).css("cursor",""):void s.unbind(".draggable").bind("mousemove.draggable",{target:this},function(e){if(!t.fn.draggable.isDragging){var n=t.data(e.data.target,"draggable").options;a(e)?t(this).css("cursor",n.cursor):t(this).css("cursor","")}}).bind("mouseleave.draggable",{target:this},function(){t(this).css("cursor","")}).bind("mousedown.draggable",{target:this},function(e){if(0!=a(e)){t(this).css("cursor","");var d=t(e.data.target).position(),r=t(e.data.target).offset(),s={startPosition:t(e.data.target).css("position"),startLeft:d.left,startTop:d.top,left:d.left,top:d.top,startX:e.pageX,startY:e.pageY,offsetWidth:e.pageX-r.left,offsetHeight:e.pageY-r.top,target:e.data.target,parent:t(e.data.target).parent()[0]};t.extend(e.data,s);var l=t.data(e.data.target,"draggable").options;0!=l.onBeforeDrag.call(e.data.target,e)&&(t(document).bind("mousedown.draggable",e.data,n),t(document).bind("mousemove.draggable",e.data,o),t(document).bind("mouseup.draggable",e.data,i))}})})},t.fn.draggable.methods={options:function(e){return t.data(e[0],"draggable").options},proxy:function(e){return t.data(e[0],"draggable").proxy},enable:function(e){return e.each(function(){t(this).draggable({disabled:!1})})},disable:function(e){return e.each(function(){t(this).draggable({disabled:!0})})}},t.fn.draggable.parseOptions=function(e){var a=t(e);return t.extend({},t.parser.parseOptions(e,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number"}]),{disabled:a.attr("disabled")?!0:void 0})},t.fn.draggable.defaults={proxy:null,revert:!1,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:!1,edge:0,axis:null,onBeforeDrag:function(){},onStartDrag:function(){},onDrag:function(){},onStopDrag:function(){}},t.fn.draggable.isDragging=!1}(jQuery)}),define("jqui/1.3.6/panel",[],function(require,exports,module){require("jqui/1.3.6/parser"),function($){function removeEach(t){t._remove()}function resize(t,e){var a=$.data(t,"panel").options,n=$.data(t,"panel").panel,o=n.children("div.panel-header"),i=n.children("div.panel-content");e&&$.extend(a,{width:e.width,height:e.height,left:e.left,top:e.top}),a.fit?$.extend(a,n._fit()):n._fit(!1),n.css({left:a.left,top:a.top}),isNaN(a.width)?n.width("auto"):n._outerWidth(a.width),isNaN(a.height)?i.height("auto"):(n._outerHeight(a.height),i._outerHeight(n.height()-o._outerHeight())),n.css("height",""),a.onResize.apply(t,[a.width,a.height]),$(t).find(">div:visible,>form>div:visible").triggerHandler("_resize")}function move(t,e){var a=$.data(t,"panel").options,n=$.data(t,"panel").panel;e&&(null!=e.left&&(a.left=e.left),null!=e.top&&(a.top=e.top)),n.css({left:a.left,top:a.top}),a.onMove.apply(t,[a.left,a.top])}function create(t){$(t).addClass("panel-content");var e=$('<div class="panel"></div>').insertBefore(t);return e[0].appendChild(t),e.bind("_resize",function(){var e=$.data(t,"panel").options;return 1==e.fit&&resize(t),!1}),e}function init(target){var opts=$.data(target,"panel").options,panel=$.data(target,"panel").panel;if(opts.tools&&"string"==typeof opts.tools&&panel.find(">div.panel-header>div.panel-tool .panel-tool-a").appendTo(opts.tools),removeEach(panel.children("div.panel-header")),opts.title&&!opts.noheader){var panelHeader=$('<div class="panel-header"><div class="panel-title">'+opts.title+"</div></div>").prependTo(panel);opts.iconCls&&(panelHeader.find(".panel-title").addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(opts.iconCls).appendTo(panelHeader));var panelTool=$('<div class="panel-tool"></div>').appendTo(panelHeader);if(panelTool.bind("click",function(t){t.stopPropagation()}),opts.tools)if($.isArray(opts.tools))for(var i=0;i<opts.tools.length;i++){var t=$('<a href="javascript:void(0)"></a>').addClass(opts.tools[i].iconCls).appendTo(panelTool);opts.tools[i].handler&&t.bind("click",eval(opts.tools[i].handler))}else $(opts.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(panelTool)});opts.collapsible&&$('<a class="panel-tool-collapse" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return 1==opts.collapsed?showPanelContent(target,!0):hidePanelContent(target,!0),!1}),opts.minimizable&&$('<a class="panel-tool-min" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return minimize(target),!1}),opts.maximizable&&$('<a class="panel-tool-max" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return 1==opts.maximized?restore(target):maximize(target),!1}),opts.closable&&$('<a class="panel-tool-close" href="javascript:void(0)"></a>').appendTo(panelTool).bind("click",function(){return hidePanel(target),!1}),panel.children("div.panel-content").removeClass("panel-content-noheader")}else panel.children("div.panel-content").addClass("panel-content-noheader")}function refreshPanelContent(t,e){function a(e){$(t).html(e),$.parser.parse($(t))}var n=$.data(t,"panel"),o=n.options;if(e&&(o.queryParams=e),o.href){if(!n.isLoaded||!o.cache){var i=$.extend({},o.queryParams);if(0==o.onBeforeLoad.call(t,i))return;n.isLoaded=!1,destroyPanelContent(t),o.loadingMessage&&$(t).html($('<div class="panel-loading"></div>').html(o.loadingMessage)),o.loader.call(t,i,function(e){a(o.extractor.call(t,e)),o.onLoad.apply(t,arguments),n.isLoaded=!0},function(){o.onLoadError.apply(t,arguments)})}}else o.content&&(n.isLoaded||(destroyPanelContent(t),a(o.content),n.isLoaded=!0))}function destroyPanelContent(t){var e=$(t);e.find(".combo-f").each(function(){$(this).combo("destroy")}),e.find(".tooltip-f").each(function(){$(this).tooltip("destroy")}),e.children("div").each(function(){$(this)._fit(!1)})}function resizePanel(t){$(t).find("div.panel:visible").each(function(){$(this).triggerHandler("_resize",[!0])})}function showPanel(t,e){var a=$.data(t,"panel").options,n=$.data(t,"panel").panel;if(1==e||0!=a.onBeforeOpen.call(t)){n.show(),a.closed=!1,a.minimized=!1;var o=n.children("div.panel-header").find("a.panel-tool-restore");o.length&&(a.maximized=!0),a.onOpen.call(t),1==a.maximized&&(a.maximized=!1,maximize(t)),1==a.collapsed&&(a.collapsed=!1,hidePanelContent(t)),a.collapsed||(refreshPanelContent(t),resizePanel(t))}}function hidePanel(t,e){var a=$.data(t,"panel").options,n=$.data(t,"panel").panel;(1==e||0!=a.onBeforeClose.call(t))&&(n._fit(!1),n.hide(),a.closed=!0,a.onClose.call(t))}function destroy(t,e){var a=$.data(t,"panel").options,n=$.data(t,"panel").panel;(1==e||0!=a.onBeforeDestroy.call(t))&&(destroyPanelContent(t),removeEach(n),a.onDestroy.call(t))}function hidePanelContent(t,e){var a=$.data(t,"panel").options,n=$.data(t,"panel").panel,o=n.children("div.panel-content"),i=n.children("div.panel-header").find("a.panel-tool-collapse");1!=a.collapsed&&(o.stop(!0,!0),0!=a.onBeforeCollapse.call(t)&&(i.addClass("panel-tool-expand"),1==e?o.slideUp("normal",function(){a.collapsed=!0,a.onCollapse.call(t)}):(o.hide(),a.collapsed=!0,a.onCollapse.call(t))))}function showPanelContent(t,e){var a=$.data(t,"panel").options,n=$.data(t,"panel").panel,o=n.children("div.panel-content"),i=n.children("div.panel-header").find("a.panel-tool-collapse");0!=a.collapsed&&(o.stop(!0,!0),0!=a.onBeforeExpand.call(t)&&(i.removeClass("panel-tool-expand"),1==e?o.slideDown("normal",function(){a.collapsed=!1,a.onExpand.call(t),refreshPanelContent(t),resizePanel(t)}):(o.show(),a.collapsed=!1,a.onExpand.call(t),refreshPanelContent(t),resizePanel(t))))}function maximize(t){var e=$.data(t,"panel").options,a=$.data(t,"panel").panel,n=a.children("div.panel-header").find("a.panel-tool-max");1!=e.maximized&&(n.addClass("panel-tool-restore"),$.data(t,"panel").original||($.data(t,"panel").original={width:e.width,height:e.height,left:e.left,top:e.top,fit:e.fit}),e.left=0,e.top=0,e.fit=!0,resize(t),e.minimized=!1,e.maximized=!0,e.onMaximize.call(t))}function minimize(t){var e=$.data(t,"panel").options,a=$.data(t,"panel").panel;a._fit(!1),a.hide(),e.minimized=!0,e.maximized=!1,e.onMinimize.call(t)}function restore(t){var e=$.data(t,"panel").options,a=$.data(t,"panel").panel,n=a.children("div.panel-header").find("a.panel-tool-max");0!=e.maximized&&(a.show(),n.removeClass("panel-tool-restore"),$.extend(e,$.data(t,"panel").original),resize(t),e.minimized=!1,e.maximized=!1,$.data(t,"panel").original=null,e.onRestore.call(t))}function initStyle(t){var e=$.data(t,"panel").options,a=$.data(t,"panel").panel,n=$(t).panel("header"),o=$(t).panel("body");a.css(e.style),a.addClass(e.cls),e.border?a.removeClass("panel-noborder"):a.addClass("panel-noborder"),n.addClass(e.headerCls),o.addClass(e.bodyCls),e.id?$(t).attr("id",e.id):$(t).attr("id","")}function setTitle(t,e){$.data(t,"panel").options.title=e,$(t).panel("header").find("div.panel-title").html(e)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(t){}})};var TO=!1,_5b=!0;$(window).unbind(".panel").bind("resize.panel",function(){_5b&&(TO!==!1&&clearTimeout(TO),TO=setTimeout(function(){_5b=!1,$("body").children("div.panel:visible").triggerHandler("_resize"),_5b=!0,TO=!1},200))}),$.fn.panel=function(t,e){return"string"==typeof t?$.fn.panel.methods[t](this,e):(t=t||{},this.each(function(){var e,a=$.data(this,"panel");a?(e=$.extend(a.options,t),a.isLoaded=!1):(e=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),t),$(this).attr("title",""),a=$.data(this,"panel",{options:e,panel:create(this),isLoaded:!1})),init(this),initStyle(this),1==e.doSize&&(a.panel.css("display","block"),resize(this)),1==e.closed||1==e.minimized?a.panel.hide():showPanel(this)}))},$.fn.panel.methods={options:function(t){return $.data(t[0],"panel").options},panel:function(t){return $.data(t[0],"panel").panel},header:function(t){return $.data(t[0],"panel").panel.find(">div.panel-header")},body:function(t){return $.data(t[0],"panel").panel.find(">div.panel-content")},setTitle:function(t,e){return t.each(function(){setTitle(this,e)})},open:function(t,e){return t.each(function(){showPanel(this,e)})},close:function(t,e){return t.each(function(){hidePanel(this,e)})},destroy:function(t,e){return t.each(function(){destroy(this,e)})},refresh:function(t,e){return t.each(function(){var t=$.data(this,"panel");t.isLoaded=!1,e&&("string"==typeof e?t.options.href=e:t.options.queryParams=e),refreshPanelContent(this)})},resize:function(t,e){return t.each(function(){resize(this,e)})},move:function(t,e){return t.each(function(){move(this,e)})},maximize:function(t){return t.each(function(){maximize(this)})},minimize:function(t){return t.each(function(){minimize(this)})},restore:function(t){return t.each(function(){restore(this)})},collapse:function(t,e){return t.each(function(){hidePanelContent(this,e)})},expand:function(t,e){return t.each(function(){showPanelContent(this,e)})}},$.fn.panel.parseOptions=function(t){var e=$(t);return $.extend({},$.parser.parseOptions(t,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"}]),{loadingMessage:void 0!=e.attr("loadingMessage")?e.attr("loadingMessage"):void 0})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,tools:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(t,e,a){var n=$(this).panel("options");return n.href?void $.ajax({type:n.method,url:n.href,cache:!1,data:t,dataType:"html",success:function(t){e(t)},error:function(){a.apply(this,arguments)}}):!1},extractor:function(t){var e=/<body[^>]*>((.|[\n\r])*)<\/body>/im,a=e.exec(t);return a?a[1]:t},onBeforeLoad:function(){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(){},onMove:function(){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}(jQuery)});